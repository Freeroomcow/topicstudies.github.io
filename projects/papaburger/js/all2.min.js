function myfavorite(e,t){var n,o=document.getElementById("favorite1"),a=document.getElementById("favorite2");try{n=new XMLHttpRequest}catch(e){try{n=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{n=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return alert("Your browser does not support AJAX."),!1}}}fetch_unix_timestamp=function(){return parseInt((new Date).getTime().toString().substring(0,10))};var s="js/favorite/favorite.php?t="+fetch_unix_timestamp();switch(n.onreadystatechange=function(){4==n.readyState&&alert(n.responseText)},n.open("GET",s+"&favid="+e,!0),n.send(null),o.name){case"favorite-add":o.src="images/favorite_"+t+".png",o.name="favorite",a.src="images/favorite_"+t+".png",a.name="favorite";break;case"favorite":o.src="images/favorite-add_"+t+".png",o.name="favorite-add",a.src="images/favorite-add_"+t+".png",a.name="favorite-add"}}function getCookie(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:""}function isMobile(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?1:0}function Id(e){return document.getElementById(e)}function openFullscreen(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function ExitFullScreen(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}function focusGame(){$("#embed").focus()}function bodyFix(){const e=window.scrollY;document.body.style.position="fixed",document.body.style.top="-"+e+"px"}function bodyRestore(){const e=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(e||"0"))}function closeGame(){bodyRestore(),$("#flashobj").css("display","none"),$("#flashobj").html(""),ExitFullScreen(),$("#closegame").hide()}function moveButton(){event.preventDefault(),maxH=Id("flashobj").offsetHeight-40,y=event.touches[0].clientY-10,y>0&&y<maxH&&$("#closegame").css("top",y)}$(function(){$(".bubbleInfo").each(function(){var e=null,t=!1,n=!1,o=$(".trigger",this),a=$(".popup",this).css("opacity",0);$([o.get(0)]).mouseover(function(){e&&clearTimeout(e),t||n||(t=!0,a.css({top:-140,left:-40,display:"block"}).animate({top:"-=10px",opacity:1},0,"swing",function(){t=!1,n=!0}))}).mouseout(function(){e&&clearTimeout(e),e=setTimeout(function(){e=null,a.animate({top:"-=10px",opacity:0},0,"swing",function(){n=!1,a.css("display","none")})},0)})})}),function(e){e.fn.jRating=function(t){var n={bigStarsPath:"js/jrating/icons/stars.png",smallStarsPath:"js/jrating/icons/small.png",phpPath:"js/jrating/php/jRating.php",type:"big",step:!1,isDisabled:!1,showRateInfo:!0,length:5,decimalLength:0,rateMax:10,rateInfosX:-45,rateInfosY:-70,onSuccess:null,onError:null};if(this.length>0)return this.each(function(){var o=e.extend(n,t),a=0,s=0,i=0,r="";if(e(this).hasClass("jDisabled")||o.isDisabled)var c=!0;else c=!1;!function(){switch(o.type){case"small":s=12,i=10,r=o.smallStarsPath;break;default:s=23,i=20,r=o.bigStarsPath}}(),e(this).height(i);var u=parseFloat(e(this).attr("data").split("_")[0]),l=parseInt(e(this).attr("data").split("_")[1]),d=s*o.length,f=u/o.rateMax*d;e("<div>",{class:"jRatingColor",css:{width:f}}).appendTo(e(this)),u=e("<div>",{class:"jRatingAverage",css:{width:0,top:-i}}).appendTo(e(this)),e("<div>",{class:"jStar",css:{width:d,height:i,top:-2*i,background:"url("+r+") repeat-x"}}).appendTo(e(this));function h(e){var t=parseFloat(100*e/d*o.rateMax/100);switch(o.decimalLength){case 1:var n=Math.round(10*t)/10;break;case 2:n=Math.round(100*t)/100;break;case 3:n=Math.round(1e3*t)/1e3;break;default:n=Math.round(1*t)/1}return n}function p(e){return e?e.offsetLeft+p(e.offsetParent):0}e(this).css({width:d,overflow:"hidden",zIndex:1,position:"relative"}),c||e(this).bind({mouseenter:function(t){var n=p(this),a=t.pageX-n;if(o.showRateInfo)e("<p>",{class:"jRatingInfos",html:h(a)+' <span class="maxRate">/ '+o.rateMax+"</span>",css:{top:t.pageY+o.rateInfosY,left:t.pageX+o.rateInfosX}}).appendTo("body").show()},mouseover:function(t){e(this).css("cursor","pointer")},mouseout:function(){e(this).css("cursor","default"),u.width(0)},mousemove:function(t){var n=p(this),i=t.pageX-n;a=o.step?Math.floor(i/s)*s+s:i,u.width(a),o.showRateInfo&&e("p.jRatingInfos").css({left:t.pageX+o.rateInfosX}).html(h(a)+' <span class="maxRate">/ '+o.rateMax+"</span>")},mouseleave:function(){e("p.jRatingInfos").remove()},click:function(t){e(this).unbind().css("cursor","default").addClass("jDisabled"),o.showRateInfo&&e("p.jRatingInfos").fadeOut("fast",function(){e(this).remove()}),t.preventDefault();var n=h(a);u.width(a),e.post(o.phpPath,{idBox:l,rate:n,action:"rating"},function(e){e.error?o.onError&&o.onError():o.onSuccess&&o.onSuccess()},"json")}})})}}(jQuery);var iSearch=0;function showSearch(){iSearch=1,$(".search2").slideDown(300),bodyFix()}function closeSearch(){iSearch=0,$(".search2").fadeOut(200),bodyRestore()}$(document).ready(function(){$(".icon-search2").click(function(){0==iSearch?showSearch():closeSearch()}),$(".icon-close").click(function(){closeSearch()})});